test(X) :-	matrix_mul([[1,2],[3,4]],[[1,2],[3,4]],R).inv(M) :-	matrix_mul(M,[[1,2],[3,4]],[[1,0],[0,1]]).	inv__1([[X1,X2],[X3,X4]]) :-     X5 is '+'('*'(X2,3),0),     1 is '+'('*'(X1,1),X5),     X6 is '+'('*'(X2,4),0),     0 is '+'('*'(X1,2),X6),     X7 is '+'('*'(X4,3),0),     0 is '+'('*'(X3,1),X7),     X8 is '+'('*'(X4,4),0),     1 is '+'('*'(X3,2),X8). /* Full transformation time (with code generation):2.500000000000000e-01*/matrix_mul(M1,M2,M12) :-	transpose(M2,TM2),	mmul(M1,TM2,M12).mmul([],_TransMatrix2,[]).mmul([Row|Rs],TransMatrix2,[MRow|MRs]) :-	row_mmul(Row,TransMatrix2,MRow),	mmul(Rs,TransMatrix2,MRs).row_mmul(Row,[],[]).row_mmul(Row,[Col|Cs],[RC|RMT]) :-	row_col_mul(Row,Col,RC),	row_mmul(Row,Cs,RMT).row_col_mul([],[],0).row_col_mul([HR|TR],[HC|TC],RC) :-	row_col_mul(TR,TC,TRC),	RC is (HR * HC) +TRC.transpose(Xs,[]) :-        nullrows(Xs).transpose(Xs,[Y|Ys]) :-        makerow(Xs,Y,Zs),        transpose(Zs,Ys).makerow([],[],[]).makerow([[X|Xs]|Ys],[X|Xs1],[Xs|Zs]) :-        makerow(Ys,Xs1,Zs).nullrows([]).nullrows([[]|Ns]) :-        nullrows(Ns).