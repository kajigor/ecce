/*
Example FSM

vars
 x0..x21
rules
  x0>=1		->	x0'=x0-1,x4'=x4+1;
  x1>=1,x11>=1	->	x1'=x1-1,x5'=x5+1,x11'=x11-1;
  x2>=1		->	x2'=x2-1,x6'=x6+1;
  x3>=1		->	x3'=x3-1,x7'=x7+1;
  x4>=1,x8>=1	->	x4'=x4-1,x8'=x8-1,x9'=x9+1;
  x15>=1		->	x1'=x1+1,x15'=x15-1;
  x5>=1		->	x5'=x5-1,x10'=x10+1;
  x6>=1,x13>=1	->	x6'=x6-1,x12'=x12+1,x13'=x13-1;
  x7>=1,x13>=1	->	x7'=x7-1,x14'=x14+1;
  x9>=1		->	x8'=x8+1,x9'=x9-1,x15'=x15+1;
  x10>=1,x16>=1	->	x10'=x10-1,x16'=x16-1,x17'=x17+1;
  x18>=1		->	x11'=x11+1,x18'=x18-1;
  x12>=1		->	x12'=x12-1,x13'=x13+1,x18'=x18+1;
  x14>=1		->	x3'=x3+1,x14'=x14-1;
  x15>=1		->	x15'=x15-1,x19'=x19+1;
  x17>=1		->	x16'=x16+1,x17'=x17-1,x20'=x20+1;
  x18>=1		->	x18'=x18-1,x21'=x21+1;
  x19>=1		->	x0'=x0+1,x19'=x19-1;
  x20>=1		->	x0'=x0+1,x2'=x2+1,x20'=x20-1;
  x21>=1		->	x2'=x2+1,x21'=x21-1;
init
  x0>=1,x1=0,x2>=1,x3>=1,x4=0,x5=0,x6=0,x7=0,x8=3,x9=0,x10=0,x11=0,x12=0,x13=1,
  x14=0,x15=0,x16=2,x17=0,x18=0,x19=0,x20=0,x21=0
target
  x9>=4, x12>=2

prolog target :
forward : sat([X0,X1,X2,X3,X4,X5,X6,X7,X8,s(s(s(s(X9)))),X10,X11,s(s(X12)),X13,X14,X15,X16,X17,X18,X19,X20,X21])
backward : p([s(X0),0,s(X2),s(X3),0,0,0,0,s(s(s(0))),0,0,0,0,s(0),0,0,s(s(0)),0,0,0,0,0]).


*/

 trans([s(X0),X1,X2,X3,X4,X5,X6,X7,X8,X9,X10,X11,X12,X13,X14,X15,X16,X17,X18,X19,X20,X21],[X0,X1,X2,X3,s(X4),X5,X6,X7,X8,X9,X10,X11,X12,X13,X14,X15,X16,X17,X18,X19,X20,X21]).
 trans([X0,s(X1),X2,X3,X4,X5,X6,X7,X8,X9,X10,s(X11),X12,X13,X14,X15,X16,X17,X18,X19,X20,X21],[X0,X1,X2,X3,X4,s(X5),X6,X7,X8,X9,X10,X11,X12,X13,X14,X15,X16,X17,X18,X19,X20,X21]).
 trans([X0,X1,s(X2),X3,X4,X5,X6,X7,X8,X9,X10,X11,X12,X13,X14,X15,X16,X17,X18,X19,X20,X21],[X0,X1,X2,X3,X4,X5,s(X6),X7,X8,X9,X10,X11,X12,X13,X14,X15,X16,X17,X18,X19,X20,X21]).
 trans([X0,X1,X2,s(X3),X4,X5,X6,X7,X8,X9,X10,X11,X12,X13,X14,X15,X16,X17,X18,X19,X20,X21],[X0,X1,X2,X3,X4,X5,X6,s(X7),X8,X9,X10,X11,X12,X13,X14,X15,X16,X17,X18,X19,X20,X21]).
 trans([X0,X1,X2,X3,s(X4),X5,X6,X7,s(X8),X9,X10,X11,X12,X13,X14,X15,X16,X17,X18,X19,X20,X21],[X0,X1,X2,X3,X4,X5,X6,X7,X8,s(X9),X10,X11,X12,X13,X14,X15,X16,X17,X18,X19,X20,X21]).
 trans([X0,X1,X2,X3,X4,X5,X6,X7,X8,X9,X10,X11,X12,X13,X14,s(X15),X16,X17,X18,X19,X20,X21],[X0,s(X1),X2,X3,X4,X5,X6,X7,X8,X9,X10,X11,X12,X13,X14,X15,X16,X17,X18,X19,X20,X21]).
 trans([X0,X1,X2,X3,X4,s(X5),X6,X7,X8,X9,X10,X11,X12,X13,X14,X15,X16,X17,X18,X19,X20,X21],[X0,X1,X2,X3,X4,X5,X6,X7,X8,X9,s(X10),X11,X12,X13,X14,X15,X16,X17,X18,X19,X20,X21]).
 trans([X0,X1,X2,X3,X4,X5,s(X6),X7,X8,X9,X10,X11,X12,s(X13),X14,X15,X16,X17,X18,X19,X20,X21],[X0,X1,X2,X3,X4,X5,X6,X7,X8,X9,X10,X11,s(X12),X13,X14,X15,X16,X17,X18,X19,X20,X21]).
 trans([X0,X1,X2,X3,X4,X5,X6,s(X7),X8,X9,X10,X11,X12,s(X13),X14,X15,X16,X17,X18,X19,X20,X21],[X0,X1,X2,X3,X4,X5,X6,X7,X8,X9,X10,X11,X12,s(X13),s(X14),X15,X16,X17,X18,X19,X20,X21]).
 trans([X0,X1,X2,X3,X4,X5,X6,X7,X8,s(X9),X10,X11,X12,X13,X14,X15,X16,X17,X18,X19,X20,X21],[X0,X1,X2,X3,X4,X5,X6,X7,s(X8),X9,X10,X11,X12,X13,X14,s(X15),X16,X17,X18,X19,X20,X21]).
 trans([X0,X1,X2,X3,X4,X5,X6,X7,X8,X9,s(X10),X11,X12,X13,X14,X15,X16,X17,X18,X19,X20,X21],[X0,X1,X2,X3,X4,X5,X6,X7,X8,X9,X10,X11,X12,X13,X14,X15,X16,s(X17),X18,X19,X20,X21]).
 trans([X0,X1,X2,X3,X4,X5,X6,X7,X8,X9,X10,X11,X12,X13,X14,X15,X16,X17,s(X18),X19,X20,X21],[X0,X1,X2,X3,X4,X5,X6,X7,X8,X9,X10,s(X11),X12,X13,X14,X15,X16,X17,X18,X19,X20,X21]).
 trans([X0,X1,X2,X3,X4,X5,X6,X7,X8,X9,X10,X11,s(X12),X13,X14,X15,X16,X17,X18,X19,X20,X21],[X0,X1,X2,X3,X4,X5,X6,X7,X8,X9,X10,X11,X12,s(X13),X14,X15,X16,X17,s(X18),X19,X20,X21]).
 trans([X0,X1,X2,X3,X4,X5,X6,X7,X8,X9,X10,X11,X12,X13,s(X14),X15,X16,X17,X18,X19,X20,X21],[X0,X1,X2,s(X3),X4,X5,X6,X7,X8,X9,X10,X11,X12,X13,X14,X15,X16,X17,X18,X19,X20,X21]).
 trans([X0,X1,X2,X3,X4,X5,X6,X7,X8,X9,X10,X11,X12,X13,X14,s(X15),X16,X17,X18,X19,X20,X21],[X0,X1,X2,X3,X4,X5,X6,X7,X8,X9,X10,X11,X12,X13,X14,X15,X16,X17,X18,s(X19),X20,X21]).
 trans([X0,X1,X2,X3,X4,X5,X6,X7,X8,X9,X10,X11,X12,X13,X14,X15,X16,s(X17),X18,X19,X20,X21],[X0,X1,X2,X3,X4,X5,X6,X7,X8,X9,X10,X11,X12,X13,X14,X15,s(X16),X17,X18,X19,s(X20),X21]).
 trans([X0,X1,X2,X3,X4,X5,X6,X7,X8,X9,X10,X11,X12,X13,X14,X15,X16,X17,s(X18),X19,X20,X21],[X0,X1,X2,X3,X4,X5,X6,X7,X8,X9,X10,X11,X12,X13,X14,X15,X16,X17,X18,X19,X20,s(X21)]).
 trans([X0,X1,X2,X3,X4,X5,X6,X7,X8,X9,X10,X11,X12,X13,X14,X15,X16,X17,X18,s(X19),X20,X21],[s(X0),X1,X2,X3,X4,X5,X6,X7,X8,X9,X10,X11,X12,X13,X14,X15,X16,X17,X18,X19,X20,X21]).
 trans([X0,X1,X2,X3,X4,X5,X6,X7,X8,X9,X10,X11,X12,X13,X14,X15,X16,X17,X18,X19,s(X20),X21],[s(X0),X1,s(X2),X3,X4,X5,X6,X7,X8,X9,X10,X11,X12,X13,X14,X15,X16,X17,X18,X19,X20,X21]).
 trans([X0,X1,X2,X3,X4,X5,X6,X7,X8,X9,X10,X11,X12,X13,X14,X15,X16,X17,X18,X19,X20,s(X21)],[X0,X1,s(X2),X3,X4,X5,X6,X7,X8,X9,X10,X11,X12,X13,X14,X15,X16,X17,X18,X19,X20,X21]).

/* init forward 
p([s(X0),0,s(X2),s(X3),0,0,0,0,s(s(s(0))),0,0,0,0,s(0),0,0,s(s(0)),0,0,0,0,0]).
*/

/* init backward :*/
sat([X0,X1,X2,X3,X4,X5,X6,X7,X8,s(s(s(s(X9)))),X10,X11,s(s(X12)),X13,X14,X15,X16,X17,X18,X19,X20,X21]).

/*  forward :
sat(X) :- p(X).
sat(X) :-trans(Y,X),sat(Y).
*/
/* backward */
p(X):- sat(X).
sat(X) :-trans(X,Y),sat(Y).

