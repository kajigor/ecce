match(Pat,T,SI) :- match1(Pat,T,Pat,T,SI).match1([_H|_T],[],P,T,failure).match1([],Ts,P,T,success).match1([A|Ps],[B|Ts],P,[X|T],S) :-	A\==B,	match1(P,T,P,T,S).match1([A|Ps],[A|Ts],P,T,S) :-	match1(Ps,Ts,P,T,S).test(S,SI) :- match([a,a,b],S,SI).matchpe(X1) :-  /* for match([a,a,b],X1,failure) */    match__1(X1).match__1([]).match__1([X1|X2]) :-     a \== X1,     match1__5(X2).match__1([a|X1]) :-     match1__2(X1).match1__2([]).match1__2([X1|X2]) :-     a \== X1,     match1__5(X2).match1__2([a|X1]) :-     match1__3(X1).match1__3([]).match1__3([X1|X2]) :-     b \== X1,     match1__4(X1,X2).match1__4(X1,X2) :-     a \== X1,     match1__5(X2).match1__4(a,X1) :-     match1__3(X1).match1__5([]).match1__5([X1|X2]) :-     a \== X1,     match1__5(X2).match1__5([a|X1]) :-     match1__2(X1).