map(P,[],[]).map(P,[H|T],[PH|PT]) :-     Call =.. [P,H,PH],    call(Call), map(P,T,PT).reduce(Func,Base,[],Base).reduce(Func,Base,[H|T],Res) :-  reduce(Func,Base,T,TRes),  Call =.. [Func,H,TRes,Res], call(Call).add(X,Y,Z) :- Z is X + Y.mul(X,Y,Z) :- Z is X * Y.inc(X,Y) :- Y is X + 1.mi(X,Y) :- map(inc,X,Y).rs(L,Sum) :- reduce(add,0,L,Sum). matrixsum(M,Sum) :-  map(rs,M,Sums),reduce(add,0,Sums,Sum).  /* <--- */test(Sum) :- matrixsum([[1,2],[3,4]],Sum). /* <--- */