tfail(X) :-	tr(Tr,X,[_,_,s(_),s(_)]).tr(Tr,X,St) :-	trace(Tr,[s(0),0,0,s(0)],St).	trace([],State,State).trace([Action|As],InState,OutState) :-	trans(Action,InState,S1),	trace(As,S1,OutState).trans(a,[s(A),B,s(C),D],	       [A,s(B),s(C),D]).trans(b,[A,s(B),C,D],	       [s(A),B,C,D]).trans(c,[A,B,s(C),D],	       [A,B,C,s(D)]).trans(d,[A,B,C,s(D)],	       [A,B,s(C),D]).trans(e,[A,s(B),C,s(D)],	       [s(A),B,s(C),D]).tfail2(X) :- unsafe(X,s(0),0,0,0).unsafe(_,_,s(s(X)),_,_).unsafe(s(X),s(P),CS,Y,C) :- unsafe(X,P,s(CS),Y,C).unsafe(X,P,s(CS),Y,C) :- unsafe(X,s(P),CS,s(Y),C).unsafe(X,P,CS,s(Y),C) :- unsafe(s(X),P,CS,Y,s(C)).