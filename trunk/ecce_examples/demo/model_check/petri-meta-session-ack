tfail(X) :-	trace(Tr,[X,0,0,0,0,0,0,s(0),0],	         [_,_,_,_,_,_,_,_,s(s(_))]).	trace([],State,State).trace([Action|As],InState,OutState) :-	trans(Action,InState,S1),	trace(As,S1,OutState).trans(ask_open,[s(PS),S1,S2,Op,Ack,Act,Close,Ready,Active],	       [PS,s(S1),S2,s(Op),Ack,Act,Close,Ready,Active]).trans(one_action,[PS,s(S1),S2,Op,s(Ack),Act,Close,Ready,Active],	       [PS,S1,s(S2),Op,Ack,s(Act),Close,Ready,Active]).trans(ask_close,[PS,S1,s(S2),Op,Ack,Act,Close,Ready,Active],	       [s(PS),S1,S2,Op,Ack,Act,s(Close),Ready,Active]).trans(open_session,[PS,S1,S2,Op,Ack,Act,Close,s(Ready),Active],	       [PS,S1,S2,Op,s(Ack),Act,Close,Ready,s(Active)]).trans(session_action,[PS,S1,S2,Op,Ack,s(Act),Close,Ready,s(Active)],	       [PS,S1,S2,Op,Ack,Act,Close,Ready,s(Active)]).trans(close_session,[PS,S1,S2,Op,Ack,Act,s(Close),Ready,s(Active)],	       [PS,S1,S2,Op,Ack,Act,Close,s(Ready),Active]).