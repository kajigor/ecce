/* '/Calvin/Programming/ecce/demo/petri2'. */tfail(X) :-	tr(Tr,X,[_,_,s(s(_)),_,_]).tr(Tr,X,St) :-	trace(Tr,[X,s(0),0,0,0],St).	trace([],State,State).trace([Action|As],InState,OutState) :-	trans(Action,InState,S1),	trace(As,S1,OutState).trans(enter_cs,[s(X),s(Sema),CritSec,Y,C],	       [X,Sema,s(CritSec),Y,C]).trans(exit_cs, [X,Sema,s(CritSec),Y,C],	       [X,s(Sema),CritSec,s(Y),C]).trans(restart, [X,Sema,CritSec,s(Y),ResetCtr],	       [s(X),Sema,CritSec,Y,s(ResetCtr)]).dl(X) :- trace(Tr,[X,s(0),0,0,0],St),deadlock(St).deadlock(State):- not(live(State)).live(State) :- trans(_A,State,_NewState).tfail2(X) :- unsafe(X,s(0),0,0,0).unsafe(_,_,s(s(X)),_,_).unsafe(s(X),s(P),CS,Y,C) :- unsafe(X,P,s(CS),Y,C).unsafe(X,P,s(CS),Y,C) :- unsafe(X,s(P),CS,s(Y),C).unsafe(X,P,CS,s(Y),C) :- unsafe(s(X),P,CS,Y,s(C)).